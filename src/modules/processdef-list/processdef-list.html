<template>
  <require from="./processdef-list.css"></require>

  <div class="container">
    <a class="btn btn-success create-process" click.delegate="createProcess()">Create Process Definition</a>
    <table class="table table-striped table-bordered">
      <tr>
        <th>ProcessDefinitionName</th>
        <th>ProcessDefinitionId</th>
        <th class="processdef-list__btn-table-cell">Latest</th>
        <th>Draft</th>
        <th></th>
      </tr>
      <tr repeat.for="process of processes" id="processDef">
        <td>${process.name}</td>
        <td>${process.id}</td>
        <td if.bind="process.latest" class="processdef-list__btn-table-cell">
            <i class="glyphicon glyphicon-ok processdef-list__draft-latest--true"></i>
        </td>
        <td if.bind="!process.latest" class="processdef-list__btn-table-cell">
            <i class="glyphicon glyphicon-remove processdef-list__draft-latest--false"></i>
        </td>
        <td if.bind="process.draft" class="processdef-list__btn-table-cell">
            <i class="glyphicon glyphicon-ok processdef-list__draft-latest--true"></i>
        </td>
        <td if.bind="!process.draft" class="processdef-list__btn-table-cell">
            <i class="glyphicon glyphicon-remove processdef-list__draft-latest--false"></i>
        </td>
        <td>
          <button click.delegate="startProcess(process.id)" if.bind="process.latest" class="btn btn-success">Start</button>
          <button click.delegate="showDetails(process.id)" if.bind="process.latest || process.draft" class="btn btn-primary">Details</button>
          <p if.bind="!process.latest && !process.draft">Obsolete Latest!</p>
        </td>
      </tr>
    </table>
    <div class="col-md-12 pagination">
        <aubs-pagination page-size.bind="pageSize" total-items.bind="totalItems" current-page.bind="currentPage"
          boundary-links.bind="true">
        </aubs-pagination>
      </div>
  </div>
</template>
