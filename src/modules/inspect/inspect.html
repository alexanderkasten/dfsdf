<template>
  <require from="./inspect.css"></require>
  <require from="./heatmap/heatmap"></require>
  <require from="./dashboard/dashboard"></require>
  <require from="./inspect-correlation/inspect-correlation"></require>
  <div class="inspect">

    <div show.bind="showDashboard" class="inspect__dashboard-container">
      <dashboard view-model.ref="dashboard"></dashboard>
    </div>
    <div show.bind="showHeatmap" class="inspect__heatmap-container">
      <heatmap active-diagram.bind="activeDiagram"></heatmap>
    </div>
    <div if.bind="showInspectCorrelation" class="inspect__inspect-correlation-container">
      <inspect-correlation active-diagram.bind="activeDiagram"></inspect-correlation>
    </div>

    <div class="inspect-layout__tools-right">
      <div class="tool-list tool-list--vertical">
        <div if.bind="showInspectCorrelation"
             class="inspect-layout__tool"
             class.bind="tokenViewerButtonDisabled ? 'inspect-layout__tool--disabled' : showTokenViewer ? 'inspect-layout__tool--active' : ''"
             disabled.bind="tokenViewerButtonDisabled"
             title.bind="showTokenViewer ? 'Hide token viewer' : 'Show token viewer'"
             click.delegate="toggleShowTokenViewer()">
          <i class="fas fa-book"></i>
        </div>
        <div if.bind="showInspectCorrelation" class="dropdown">
          <div class="inspect-layout__tool dropdown-toggle" title="Export Diagram" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <i class="fas fa-upload"></i>
          </div>
          <ul class="dropdown-menu">
            <li class="dropdown-item" click.delegate="exportDiagram('BPMN')">as BPMN</li>
            <li class="dropdown-item" click.delegate="exportDiagram('SVG')">as SVG</li>
            <li class="dropdown-item" click.delegate="exportDiagram('PNG')">as PNG</li>
            <li class="dropdown-item" click.delegate="exportDiagram('JPEG')">as JPEG</li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</template>
