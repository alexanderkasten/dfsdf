<template>
  <require from="./basics.css"></require>
  <require from="../../../../styles/sections.css"></require>
  <div class="section">
    <div class="section__content">
      <div class="section__btn-group">
        <label class="section__input-label">Form Key: </label>
        <input type="text" class="form-control" value.bind="businessObjInPanel.formKey">
        <span class="glyphicon glyphicon-remove-circle section__btn-group--clear-btn" click.delegate="_clearFormKey()"></span>
      </div>
      <div class="form-fields-label-group">
        <label class="section__input-label">Form Fields: </label>
        <button class="remove-forms__button btn btn-xs btn-danger" disabled.bind="!isFormSelected" click.delegate="_removeForm()">x</button>
        <button class="add-forms__button btn btn-xs btn-primary" click.delegate="_addForm()">+</button>
      </div>

      <select class="form-control forms-list" value.bind="selectedForm" change.delegate="_selectForm()" size="5">
        <option repeat.for="form of forms" model.bind="form">${form.id}</option>
      </select>

      <div show.bind="isFormSelected">
        <h4><label class="header-label">Form Field</label></h4>
        <div class="section__btn-group">
          <label class="section__input-label">ID: </label>
          <input type="text" class="form-control" id="formId" value.bind="selectedForm.id & validateOnChange" placeholder="ID" change.delegate="_updateId()">
          <span class="glyphicon glyphicon-remove-circle section__btn-group--clear-btn" click.delegate="_clearId()"></span>
        </div>
        <div class="type-input">
          <label class="section__input-label">Type: </label>
          <select class="form-control" value.bind="selectedType" change.delegate="_updateType()">
            <option model.bind="null">-Choose Type-</option>
            <option repeat.for="type of types" model.bind="type">${type}</option>
          </select>
        </div>
        <div if.bind="selectedType === types[5]">
          <div class="section__btn-group">
            <label class="section__input-label">Custom Type: </label>
            <input type="text" class="form-control" value.bind="customType" placeholder="Custom Type" change.delegate="_updateType()">
            <span class="glyphicon glyphicon-remove-circle section__btn-group--clear-btn" click.delegate="_clearType()"></span>
          </div>
        </div>
        <div class="section__btn-group">
          <label class="section__input-label">Label: </label>
          <input type="text" class="form-control" value.bind="selectedForm.label"  placeholder="Label" change.delegate="_updateLabel()">
          <span class="glyphicon glyphicon-remove-circle section__btn-group--clear-btn" click.delegate="_clearLabel()"></span>
        </div>
        <div class="section__btn-group">
          <label class="section__input-label">Default Value: </label>
          <input type="text" class="form-control" value.bind="selectedForm.defaultValue"  placeholder="Default Value" change.delegate="_updateDefaultValue()">
          <span class="glyphicon glyphicon-remove-circle section__btn-group--clear-btn" click.delegate="_clearValue()"></span>
        </div>
      </div>
    </div>
    <div class="section__special">
      <div class="section__special--form-id" show.bind="isFormSelected">
        <div class="id-tooltip-error" if.bind="validationError">
          <div class="tooltip">
            <span class="glyphicon glyphicon-remove"></span>
            <span class="tooltiptext">
              <div repeat.for="error of validationController.errors">
                ${error}
              </div>
            </span>
          </div>
        </div>
        <div class="id-tooltip-ok" if.bind="!validationError">
          <div class="tooltip">
            <span class="glyphicon glyphicon-ok"></span>
            <span class="tooltiptext">This Id is fine!</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>
