<template>
  <require from="./basics.css"></require>
  <require from="../../../../styles/sections.css"></require>
  <div class="section"  show.bind="canHandleElement">
    <div class="section__content col-md-11">
      <h4><label class="header-label">Forms</label></h4>
      <div class="section__btn-group">
        <label class="section__input-label">Form Key: </label>
        <input type="text" class="form-control" value.bind="businessObjInPanel.formKey">
        <span class="glyphicon glyphicon-remove-circle section__btn-group--clear-btn" click.delegate="clearFormKey()"></span>
      </div>
      <label class="section__input-label">Form Fields: </label>
      <ul class="list-group forms-list">
        <li class="list-group-item forms-item" id="${form.id}" repeat.for="form of forms" click.delegate="setActive(form.id) selectForm(form)"><span>${form.id}</span></li>
        <li class="list-group-item forms-item" if.bind="forms.length === 0"><span>No Forms</span></li>
      </ul>
      <div show.bind="isFormSelected">
        <button class="forms-removeFormButton btn btn-xs btn-danger" disabled.bind="selectedIndex === undefined" click.delegate="removeForm()">x</button>
        <h4><label class="header-label">Form Field</label></h4>
        <div class="section__btn-group">
          <label class="section__input-label">ID: </label>
          <input type="text" class="form-control" value.bind="selectedForm.id" placeholder="ID" change.delegate="updateId()">
          <span class="glyphicon glyphicon-remove-circle section__btn-group--clear-btn" click.delegate="clearId()"></span>
        </div>
        <label class="section__input-label">Type: </label>
        <select class="form-control" value.bind="selectedType" change.delegate="updateType()">
          <option model.bind="null">-Choose Type-</option>
          <option repeat.for="type of types">${type}</option>
        </select>
        <div if.bind="selectedType === types[5]">
          <div class="section__btn-group">
            <label class="section__input-label">Custom Type: </label>
            <input type="text" class="form-control" value.bind="customType" placeholder="Custom Type" change.delegate="updateType()">
            <span class="glyphicon glyphicon-remove-circle section__btn-group--clear-btn" click.delegate="clearType()"></span>
          </div>
        </div>
        <div class="section__btn-group">
          <label class="section__input-label">Label: </label>
          <input type="text" class="form-control" value.bind="selectedForm.label"  placeholder="Label" change.delegate="updateLabel()">
          <span class="glyphicon glyphicon-remove-circle section__btn-group--clear-btn" click.delegate="clearLabel()"></span>
        </div>
        <div class="section__btn-group">
          <label class="section__input-label">Default Value: </label>
          <input type="text" class="form-control" value.bind="selectedForm.defaultValue"  placeholder="Default Value" change.delegate="updateDefaultValue()">
          <span class="glyphicon glyphicon-remove-circle section__btn-group--clear-btn" click.delegate="clearValue()"></span>
        </div>
      </div>
    </div>
    <div class="section__special col-md-1">
      <button class="forms-addFormButton btn btn-xs btn-primary" click.delegate="addForm()">+</button>
    </div>
  </div>
</template>
